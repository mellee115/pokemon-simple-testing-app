{"version":3,"file":"react-multi-select-component.esm.js","sources":["../src/lib/fuzzy-match-utils.tsx","../src/lib/get-string.tsx","../src/select-panel/default-item.tsx","../src/select-panel/select-item.tsx","../src/select-panel/select-list.tsx","../src/select-panel/index.tsx","../src/multi-select/arrow.tsx","../src/multi-select/loading.tsx","../src/multi-select/dropdown.tsx","../src/multi-select/header.tsx","../src/multi-select/index.tsx"],"sourcesContent":["import { Option } from \"./interfaces\";\n\n/**\n * A collection of string matching algorithms built with React Select in mind.\n */\n\n// Option type from React Select and similar libraries.\ntype MapOfStrings = { [key: string]: string };\n\n/**\n * Filters React Select options and sorts by similarity to a search filter.\n * Handles partial matches, eg. searching for \"Waberg High\" will find \"Raoul\n * Wallenberg Traditional High School\". Case insensitive. Ignores\n * non-alphanumeric characters.\n *\n * @param  options  An unfiltered list of Options.\n * @param? filter  A string to compare against Option labels.\n * @param? substitutions  Strings with multiple spellings or variations that we\n *           expect to match, eg. accented characters or abbreviated words.\n *\n * @return A filtered and sorted array of Options.\n */\nexport function filterOptions(\n  options: Option[],\n  filter?: string,\n  substitutions?: MapOfStrings\n): Option[] {\n  // If the filter is blank, return the full list of Options.\n  if (!filter) {\n    return options;\n  }\n\n  const cleanFilter = cleanUpText(filter, substitutions);\n  return (\n    options\n      // Filter out undefined or null Options.\n      .filter(({ label, value }) => label != null && value != null)\n      // Create a {score, Option} pair for each Option based on its label's\n      // similarity to the filter text.\n      .map((option) => ({\n        option: option,\n        score: typeaheadSimilarity(\n          cleanUpText(option.label, substitutions),\n          cleanFilter\n        ),\n      }))\n      // Only include matches of the entire substring, with a slight\n      // affordance for transposition or extra characters.\n      .filter((pair) => pair.score >= cleanFilter.length - 2)\n      // Sort 'em by order of their score.\n      .sort((a, b) => b.score - a.score)\n      // …and grab the original Options back from their pairs.\n      .map((pair) => pair.option)\n  );\n}\n\n/**\n * Scores the similarity between two strings by returning the length of the\n * longest common subsequence. Intended for comparing strings of different\n * lengths; eg. when matching a typeahead search input with a school name.\n\n * Meant for use in an instant search box where results are being fetched\n * as a user is typing.\n *\n * @param  a  The longer string (though, we flip them if it's shorter).\n * @param  b  The shorter string, eg. a typeahead search input.\n *\n * @return The length of the longest common subsequence. Higher scores indicate\n *           closer matches.\n */\nexport function typeaheadSimilarity(a: string, b: string): number {\n  const aLength = a.length;\n  const bLength = b.length;\n  const table: any[] = [];\n\n  if (!aLength || !bLength) {\n    return 0;\n  }\n\n  // Ensure `a` isn't shorter than `b`.\n  if (aLength < bLength) {\n    [a, b] = [b, a];\n  }\n\n  // Early exit if `a` includes `b`; these will be scored higher than any\n  // other options with the same `b` (filter string), with a preference for\n  // shorter `a` strings (option labels).\n  if (a.indexOf(b) !== -1) {\n    return bLength + 1 / aLength;\n  }\n\n  // Initialize the table axes:\n  //\n  //    0 0 0 0 ... bLength\n  //    0\n  //    0\n  //\n  //   ...\n  //\n  // aLength\n  //\n  for (let x = 0; x <= aLength; ++x) {\n    table[x] = [0];\n  }\n  for (let y = 0; y <= bLength; ++y) {\n    table[0][y] = 0;\n  }\n\n  // Populate the rest of the table with a dynamic programming algorithm.\n  for (let x = 1; x <= aLength; ++x) {\n    for (let y = 1; y <= bLength; ++y) {\n      table[x][y] =\n        a[x - 1] === b[y - 1]\n          ? 1 + table[x - 1][y - 1]\n          : Math.max(table[x][y - 1], table[x - 1][y]);\n    }\n  }\n\n  return table[aLength][bLength];\n}\n\n/**\n * Apply string substitutions, remove non-alphanumeric characters, and convert\n * all letters to uppercase.\n *\n * eg. 'Scoil Bhríde Primary School' may become 'SCOILBHRIDEPRIMARYSCHOOL'.\n *\n * @param  input  An unsanitized input string.\n * @param  substitutions  Strings with multiple spellings or variations that we\n *          expect to match, for example accented characters or abbreviated\n *          words.\n *\n * @return The sanitized text.\n */\nexport function cleanUpText(\n  input?: string,\n  substitutions?: MapOfStrings\n): string {\n  if (!input) {\n    return \"\";\n  }\n\n  // Uppercase and remove all non-alphanumeric, non-accented characters.\n  // Also remove underscores.\n  input = input.toUpperCase().replace(/((?=[^\\u00E0-\\u00FC])\\W)|_/g, \"\");\n\n  if (!substitutions) {\n    return input;\n  }\n  const safeSubstitutions: MapOfStrings = substitutions; // For Flow.\n\n  // Replace all strings in `safeSubstitutions` with their standardized\n  // counterparts.\n  return Object.keys(safeSubstitutions).reduce((output, substitution) => {\n    const unsubbed = new RegExp(substitution, \"g\");\n    return output.replace(unsubbed, safeSubstitutions[substitution]);\n  }, input);\n}\n","const strings = {\n  selectSomeItems: \"Select...\",\n  allItemsAreSelected: \"All items are selected.\",\n  selectAll: \"Select All\",\n  search: \"Search\",\n};\n\nfunction getString(key: string, overrideStrings?): string {\n  if (overrideStrings && overrideStrings[key]) {\n    return overrideStrings[key];\n  }\n\n  return strings[key];\n}\n\nexport default getString;\n","import { css } from \"goober\";\nimport React from \"react\";\n\nimport { Option } from \"../lib/interfaces\";\n\ninterface IDefaultItemRendererProps {\n  checked: boolean;\n  option: Option;\n  disabled?: boolean;\n  onClick;\n}\n\nconst DefaultRenderer = css({\n  \"& input,& span\": {\n    verticalAlign: \"middle\",\n    margin: 0,\n  },\n  span: {\n    display: \"inline-block\",\n    paddingLeft: \"5px\",\n  },\n  \"&.disabled\": {\n    opacity: 0.5,\n  },\n});\n\nconst DefaultItemRenderer = ({\n  checked,\n  option,\n  onClick,\n  disabled,\n}: IDefaultItemRendererProps) => {\n  return (\n    <div\n      className={`${DefaultRenderer} item-renderer ${disabled && \"disabled\"}`}\n    >\n      <input\n        type=\"checkbox\"\n        onChange={onClick}\n        checked={checked}\n        tabIndex={-1}\n        disabled={disabled}\n      />\n      <span>{option.label}</span>\n    </div>\n  );\n};\n\nexport default DefaultItemRenderer;\n","/**\n * This component represents an individual item in the multi-select drop-down\n */\nimport { css } from \"goober\";\nimport React, { useEffect, useRef } from \"react\";\n\nimport { Option } from \"../lib/interfaces\";\nimport DefaultItemRenderer from \"./default-item\";\n\ninterface ISelectItemProps {\n  itemRenderer;\n  option: Option;\n  checked: boolean;\n  focused?: boolean;\n  disabled?: boolean;\n  onSelectionChanged: (checked: boolean) => void;\n  onClick;\n}\n\nconst ItemContainer = css({\n  boxSizing: \"border-box\",\n  cursor: \"pointer\",\n  display: \"block\",\n  padding: \"var(--rmsc-spacing)\",\n  outline: \"0\",\n  \"&:hover,&:focus\": {\n    background: \"var(--rmsc-hover)\",\n  },\n  \"&.selected\": {\n    background: \"var(--rmsc-selected)\",\n  },\n});\n\nconst SelectItem = ({\n  itemRenderer: ItemRenderer = DefaultItemRenderer,\n  option,\n  checked,\n  focused,\n  disabled,\n  onSelectionChanged,\n  onClick,\n}: ISelectItemProps) => {\n  const itemRef: any = useRef();\n\n  useEffect(() => {\n    updateFocus();\n    // eslint-disable-next-line\n  }, [focused]);\n\n  const toggleChecked = () => {\n    onSelectionChanged(!checked);\n  };\n\n  const handleClick = (e) => {\n    toggleChecked();\n    onClick(e);\n  };\n\n  const updateFocus = () => {\n    if (focused && !disabled && itemRef) {\n      itemRef.current.focus();\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    switch (e.which) {\n      case 13: // Enter\n      case 32: // Space\n        toggleChecked();\n        break;\n      default:\n        return;\n    }\n    e.preventDefault();\n  };\n\n  return (\n    <label\n      className={`${ItemContainer} select-item ${checked && \"selected\"}`}\n      role=\"option\"\n      aria-selected={checked}\n      tabIndex={-1}\n      ref={itemRef}\n      onKeyDown={handleKeyDown}\n    >\n      <ItemRenderer\n        option={option}\n        checked={checked}\n        onClick={handleClick}\n        disabled={disabled}\n      />\n    </label>\n  );\n};\n\nexport default SelectItem;\n","/**\n * This component represents an unadorned list of SelectItem (s).\n */\nimport { css } from \"goober\";\nimport React from \"react\";\n\nimport { Option } from \"../lib/interfaces\";\nimport SelectItem from \"./select-item\";\n\ninterface ISelectListProps {\n  focusIndex: number;\n  ItemRenderer?: Function;\n  options: Option[];\n  value: Option[];\n  onChange: (selected: Option[]) => void;\n  onClick: Function;\n  disabled?: boolean;\n}\n\nconst SelectListUl = css({\n  margin: 0,\n  paddingLeft: 0,\n  li: {\n    listStyle: \"none\",\n    margin: 0,\n  },\n});\n\nconst SelectList = ({\n  value,\n  onChange,\n  disabled,\n  ItemRenderer,\n  options,\n  focusIndex,\n  onClick,\n}: ISelectListProps) => {\n  const handleSelectionChanged = (option: Option, checked: boolean) => {\n    if (disabled) {\n      return;\n    }\n    onChange(\n      checked\n        ? [...value, option]\n        : value.filter((o: any) => o.value !== option.value)\n    );\n  };\n\n  return (\n    <ul className={SelectListUl}>\n      {options.map((o: any, i) => (\n        <li key={o.hasOwnProperty(\"key\") ? o.key : i}>\n          <SelectItem\n            focused={focusIndex === i}\n            option={o}\n            onSelectionChanged={(c) => handleSelectionChanged(o, c)}\n            checked={value.find((s) => s.value === o.value) ? true : false}\n            onClick={(e) => onClick(e, i)}\n            itemRenderer={ItemRenderer}\n            disabled={o.disabled || disabled}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default SelectList;\n","/**\n * This component represents the entire panel which gets dropped down when the\n * user selects the component.  It encapsulates the search filter, the\n * Select-all item, and the list of options.\n */\nimport { css } from \"goober\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { filterOptions } from \"../lib/fuzzy-match-utils\";\nimport getString from \"../lib/get-string\";\nimport { Option } from \"../lib/interfaces\";\nimport SelectItem from \"./select-item\";\nimport SelectList from \"./select-list\";\n\ninterface ISelectPanelProps {\n  ItemRenderer?: Function;\n  options: Option[];\n  value: Option[];\n  focusSearchOnOpen: boolean;\n  selectAllLabel?: string;\n  onChange: (selected: Option[]) => void;\n  disabled?: boolean;\n  disableSearch?: boolean;\n  hasSelectAll: boolean;\n  filterOptions?: (options: Option[], filter: string) => Option[];\n  overrideStrings?: { [key: string]: string };\n}\n\nenum FocusType {\n  SEARCH = -1,\n  NONE = 0,\n}\n\nconst SelectSearchContainer = css({\n  width: \"100%\",\n  borderBottom: \"1px solid var(--rmsc-border)\",\n  input: {\n    height: \"var(--rmsc-height)\",\n    padding: \"0 var(--rmsc-spacing)\",\n    width: \"100%\",\n    outline: \"none\",\n    border: \"0\",\n  },\n});\n\nexport const SelectPanel = (props: ISelectPanelProps) => {\n  const {\n    onChange,\n    options,\n    value,\n    filterOptions: customFilterOptions,\n    selectAllLabel,\n    ItemRenderer,\n    disabled,\n    disableSearch,\n    focusSearchOnOpen,\n    hasSelectAll,\n    overrideStrings,\n  } = props;\n  const [searchText, setSearchText] = useState(\"\");\n  const [focusIndex, setFocusIndex] = useState(\n    focusSearchOnOpen ? FocusType.SEARCH : FocusType.NONE\n  );\n\n  const [selectAllLength, setSelectAllLength] = useState<number>();\n  const selectAllOption = {\n    label: selectAllLabel || getString(\"selectAll\", overrideStrings),\n    value: \"\",\n  };\n\n  useEffect(() => {\n    setSelectAllLength(selectAllValues(true).length);\n    // eslint-disable-next-line\n  }, [options]);\n\n  const selectAllValues = (checked) => {\n    const selectedValues = value.map((o) => o.value);\n    return options.filter(({ disabled, value }) => {\n      if (checked) {\n        return !disabled || selectedValues.includes(value);\n      }\n      return disabled && selectedValues.includes(value);\n    });\n  };\n\n  const selectAllChanged = (checked: boolean) => {\n    const newOptions = selectAllValues(checked);\n    onChange(newOptions);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchText(e.target.value);\n    setFocusIndex(FocusType.SEARCH);\n  };\n\n  const handleItemClicked = (index: number) => setFocusIndex(index);\n\n  const handleKeyDown = (e) => {\n    switch (e.which) {\n      case 38: // Up Arrow\n        if (e.altKey) {\n          return;\n        }\n        updateFocus(-1);\n        break;\n      case 40: // Down Arrow\n        if (e.altKey) {\n          return;\n        }\n        updateFocus(1);\n        break;\n      default:\n        return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  const handleSearchFocus = () => {\n    setFocusIndex(FocusType.SEARCH);\n  };\n\n  const filteredOptions = () =>\n    customFilterOptions\n      ? customFilterOptions(options, searchText)\n      : filterOptions(options, searchText);\n\n  const updateFocus = (offset: number) => {\n    let newFocus = focusIndex + offset;\n    newFocus = Math.max(0, newFocus);\n    newFocus = Math.min(newFocus, options.length);\n    setFocusIndex(newFocus);\n  };\n\n  return (\n    <div className=\"select-panel\" role=\"listbox\" onKeyDown={handleKeyDown}>\n      {!disableSearch && (\n        <div className={SelectSearchContainer}>\n          <input\n            autoFocus={focusSearchOnOpen}\n            placeholder={getString(\"search\", overrideStrings)}\n            type=\"search\"\n            aria-describedby={getString(\"search\", overrideStrings)}\n            onChange={handleSearchChange}\n            onFocus={handleSearchFocus}\n          />\n        </div>\n      )}\n\n      {hasSelectAll && !searchText && (\n        <SelectItem\n          focused={focusIndex === 0}\n          checked={selectAllLength === value.length}\n          option={selectAllOption}\n          onSelectionChanged={selectAllChanged}\n          onClick={() => handleItemClicked(0)}\n          itemRenderer={ItemRenderer}\n          disabled={disabled}\n        />\n      )}\n\n      <SelectList\n        {...props}\n        options={filteredOptions()}\n        focusIndex={focusIndex - 1}\n        onClick={(_e, index) => handleItemClicked(index + 1)}\n        ItemRenderer={ItemRenderer}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n\nexport default SelectPanel;\n","import React from \"react\";\n\nexport default function Arrow({ expanded = false }) {\n  return (\n    <span\n      className=\"dropdown-heading-dropdown-arrow gray\"\n      style={{ paddingTop: \"4px\" }}\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"2\"\n        viewBox=\"0 0 24 24\"\n      >\n        {expanded ? (\n          <polyline points=\"18 15 12 9 6 15\"></polyline>\n        ) : (\n          <path d=\"M6 9L12 15 18 9\"></path>\n        )}\n      </svg>\n    </span>\n  );\n}\n","import { css } from \"goober\";\nimport React from \"react\";\n\nconst Spinner = css({\n  animation: \"rotate 2s linear infinite\",\n\n  \"& .path\": {\n    stroke: \"var(--rmsc-border)\",\n    strokeWidth: \"4px\",\n    strokeLinecap: \"round\",\n    animation: \"dash 1.5s ease-in-out infinite\",\n  },\n\n  \"@keyframes rotate\": {\n    \"100%\": {\n      transform: \"rotate(360deg)\",\n    },\n  },\n\n  \"@keyframes dash\": {\n    \"0%\": {\n      strokeDasharray: \"1, 150\",\n      strokeDashoffset: \"0\",\n    },\n    \"50%\": {\n      strokeDasharray: \"90, 150\",\n      strokeDashoffset: \"-35\",\n    },\n    \"100%\": {\n      strokeDasharray: \"90, 150\",\n      strokeDashoffset: \"-124\",\n    },\n  },\n});\n\nfunction Loading({ size = 26 }) {\n  return (\n    <div\n      style={{\n        cursor: \"pointer\",\n        display: \"table-cell\",\n        verticalAlign: \"middle\",\n        width: size,\n        marginRight: \"0.2rem\",\n      }}\n    >\n      <svg\n        width={size}\n        height={size}\n        className={Spinner}\n        viewBox=\"0 0 50 50\"\n        style={{ display: \"inline-block\", verticalAlign: \"middle\" }}\n      >\n        <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" className=\"path\"></circle>\n      </svg>\n    </div>\n  );\n}\n\nexport default Loading;\n","/**\n * A generic dropdown component.  It takes the children of the component\n * and hosts it in the component.  When the component is selected, it\n * drops-down the contentComponent and applies the contentProps.\n */\nimport useOutsideClick from \"@rooks/use-outside-click\";\nimport { css } from \"goober\";\nimport React, { useRef, useState, useEffect } from \"react\";\n\nimport Arrow from \"./arrow\";\nimport Loading from \"./loading\";\n\ninterface IDropdownProps {\n  children?;\n  contentComponent;\n  contentProps: object;\n  isLoading?: boolean;\n  disabled?: boolean;\n  shouldToggleOnHover?: boolean;\n  labelledBy?: string;\n  onMenuToggle?;\n  ArrowRenderer?;\n}\n\nconst PanelContainer = css({\n  position: \"absolute\",\n  zIndex: 1,\n  top: \"100%\",\n  width: \"100%\",\n  paddingTop: \"8px\",\n  \".panel-content\": {\n    maxHeight: \"300px\",\n    overflowY: \"auto\",\n    borderRadius: \"var(--rmsc-border-radius)\",\n    backgroundColor: \"var(--rmsc-background)\",\n    boxShadow:\n      \"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)\",\n  },\n});\n\nconst DropdownContainer = css({\n  position: \"relative\",\n  outline: \"none\",\n  backgroundColor: \"var(--rmsc-background)\",\n  border: \"1px solid var(--rmsc-border)\",\n  borderRadius: \"var(--rmsc-border-radius)\",\n  \"&:focus-within\": {\n    boxShadow: \"var(--rmsc-primary) 0px 0px 0px 1px\",\n    borderColor: \"var(--rmsc-primary)\",\n  },\n});\n\nconst DropdownHeading = css({\n  position: \"relative\",\n  padding: \"0 var(--rmsc-spacing)\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"flex-end\",\n  overflow: \"hidden\",\n  width: \"100%\",\n  height: \"var(--rmsc-height)\",\n  cursor: \"default\",\n  outline: \"none\",\n  \".dropdown-heading-value\": {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    flex: \"1\",\n  },\n});\n\nconst Dropdown = ({\n  children,\n  contentComponent: ContentComponent,\n  contentProps,\n  isLoading,\n  disabled,\n  shouldToggleOnHover,\n  labelledBy,\n  onMenuToggle,\n  ArrowRenderer,\n}: IDropdownProps) => {\n  const [expanded, setExpanded] = useState(false);\n  const [hasFocus, setHasFocus] = useState(false);\n  const FinalArrow = ArrowRenderer || Arrow;\n\n  const wrapper: any = useRef();\n\n  useOutsideClick(wrapper, () => setExpanded(false));\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n  useEffect(() => {\n    onMenuToggle && onMenuToggle(expanded);\n  }, [expanded]);\n\n  const handleKeyDown = (e) => {\n    switch (e.which) {\n      case 27: // Escape\n      case 38: // Up Arrow\n        setExpanded(false);\n        break;\n      case 13: // Enter Key\n      case 40: // Down Arrow\n        setExpanded(true);\n        break;\n      default:\n        return;\n    }\n    e.preventDefault();\n  };\n  const handleHover = (iexpanded: boolean) => {\n    shouldToggleOnHover && setExpanded(iexpanded);\n  };\n  const handleFocus = (e) => {\n    e.target === wrapper && !hasFocus && setHasFocus(true);\n  };\n  const handleBlur = () => hasFocus && setHasFocus(false);\n  const handleMouseEnter = () => handleHover(true);\n  const handleMouseLeave = () => handleHover(false);\n  const toggleExpanded = () =>\n    setExpanded(isLoading || disabled ? false : !expanded);\n\n  return (\n    <div\n      tabIndex={0}\n      className={`${DropdownContainer} dropdown-container`}\n      aria-labelledby={labelledBy}\n      aria-expanded={expanded}\n      aria-readonly=\"true\"\n      aria-disabled={disabled}\n      ref={wrapper}\n      onKeyDown={handleKeyDown}\n      onFocus={handleFocus}\n      onBlur={handleBlur}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <div\n        className={`${DropdownHeading} dropdown-heading`}\n        onClick={toggleExpanded}\n      >\n        <div className=\"dropdown-heading-value\">{children}</div>\n        {isLoading && <Loading />}\n        <FinalArrow expanded={expanded} />\n      </div>\n      {expanded && (\n        <div className={`${PanelContainer} dropdown-content`}>\n          <div className=\"panel-content\">\n            <ContentComponent {...contentProps} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dropdown;\n","import React from \"react\";\n\nimport getString from \"../lib/get-string\";\n\nconst DropdownHeader = ({ value, options, valueRenderer, overrideStrings }) => {\n  const noneSelected = value.length === 0;\n  const allSelected = value.length === options.length;\n  const customText = valueRenderer && valueRenderer(value, options);\n\n  const getSelectedText = () => value.map((s) => s.label).join(\", \");\n\n  if (noneSelected) {\n    return (\n      <span className=\"gray\">\n        {customText || getString(\"selectSomeItems\", overrideStrings)}\n      </span>\n    );\n  }\n\n  return (\n    <span>\n      {customText\n        ? customText\n        : allSelected\n        ? getString(\"allItemsAreSelected\", overrideStrings)\n        : getSelectedText()}\n    </span>\n  );\n};\n\nexport default DropdownHeader;\n","import { css } from \"goober\";\nimport React from \"react\";\n\nimport { ISelectProps } from \"../lib/interfaces\";\nimport SelectPanel from \"../select-panel\";\nimport Dropdown from \"./dropdown\";\nimport DropdownHeader from \"./header\";\n\nconst MultiSelectBox = css({\n  \"--rmscPrimary\": \"#4285f4\",\n  \"--rmscHover\": \"#f1f3f5\",\n  \"--rmscSelected\": \"#e2e6ea\",\n  \"--rmscBorder\": \"#ccc\",\n  \"--rmscGray\": \"#aaa\",\n  \"--rmscBackground\": \"#fff\",\n  \"--rmscSpacing\": \"10px\",\n  \"--rmscBorderRadius\": \"4px\",\n  \"--rmscHeight\": \"38px\",\n\n  \"*\": {\n    boxSizing: \"border-box\",\n    transition: \"all 0.2s ease\",\n  },\n  \".gray\": {\n    color: \"var(--rmsc-gray)\",\n  },\n});\n\nconst MultiSelect = ({\n  focusSearchOnOpen = true,\n  hasSelectAll = true,\n  shouldToggleOnHover = false,\n  className = \"multi-select\",\n  options,\n  value,\n  valueRenderer,\n  overrideStrings,\n  onChange,\n  disabled,\n  ItemRenderer,\n  ArrowRenderer,\n  selectAllLabel,\n  isLoading,\n  disableSearch,\n  filterOptions,\n  labelledBy,\n  onMenuToggle,\n}: ISelectProps) => {\n  const nvalue = value || [];\n  return (\n    <div className={`${MultiSelectBox} ${className}`}>\n      <Dropdown\n        isLoading={isLoading}\n        contentComponent={SelectPanel}\n        shouldToggleOnHover={shouldToggleOnHover}\n        contentProps={{\n          ItemRenderer,\n          options,\n          value: nvalue,\n          hasSelectAll,\n          selectAllLabel,\n          onChange,\n          disabled,\n          disableSearch,\n          focusSearchOnOpen,\n          filterOptions,\n          overrideStrings,\n        }}\n        disabled={disabled}\n        labelledBy={labelledBy}\n        onMenuToggle={onMenuToggle}\n        ArrowRenderer={ArrowRenderer}\n      >\n        <DropdownHeader\n          value={nvalue}\n          options={options}\n          valueRenderer={valueRenderer}\n          overrideStrings={overrideStrings}\n        />\n      </Dropdown>\n    </div>\n  );\n};\n\nexport default MultiSelect;\n"],"names":["filterOptions","options","filter","substitutions","cleanFilter","cleanUpText","label","value","map","option","score","typeaheadSimilarity","pair","length","sort","a","b","aLength","bLength","table","indexOf","x","y","Math","max","input","toUpperCase","replace","safeSubstitutions","Object","keys","reduce","output","substitution","unsubbed","RegExp","strings","selectSomeItems","allItemsAreSelected","selectAll","search","getString","key","overrideStrings","DefaultRenderer","css","verticalAlign","margin","span","display","paddingLeft","opacity","DefaultItemRenderer","checked","onClick","disabled","React","className","type","onChange","tabIndex","ItemContainer","boxSizing","cursor","padding","outline","background","SelectItem","itemRenderer","ItemRenderer","focused","onSelectionChanged","itemRef","useRef","useEffect","updateFocus","toggleChecked","handleClick","e","current","focus","handleKeyDown","which","preventDefault","role","ref","onKeyDown","SelectListUl","li","listStyle","SelectList","focusIndex","handleSelectionChanged","o","i","hasOwnProperty","c","find","s","FocusType","SelectSearchContainer","width","borderBottom","height","border","SelectPanel","props","customFilterOptions","selectAllLabel","disableSearch","focusSearchOnOpen","hasSelectAll","useState","searchText","setSearchText","SEARCH","NONE","setFocusIndex","selectAllLength","setSelectAllLength","selectAllOption","selectAllValues","selectedValues","includes","selectAllChanged","newOptions","handleSearchChange","target","handleItemClicked","index","altKey","stopPropagation","handleSearchFocus","filteredOptions","offset","newFocus","min","autoFocus","placeholder","onFocus","_e","Arrow","expanded","style","paddingTop","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","points","d","Spinner","animation","transform","strokeDasharray","strokeDashoffset","Loading","size","marginRight","cx","cy","r","PanelContainer","position","zIndex","top","maxHeight","overflowY","borderRadius","backgroundColor","boxShadow","DropdownContainer","borderColor","DropdownHeading","alignItems","justifyContent","overflow","textOverflow","whiteSpace","flex","Dropdown","children","ContentComponent","contentComponent","contentProps","isLoading","shouldToggleOnHover","labelledBy","onMenuToggle","ArrowRenderer","setExpanded","hasFocus","setHasFocus","FinalArrow","wrapper","useOutsideClick","handleHover","iexpanded","handleFocus","handleBlur","handleMouseEnter","handleMouseLeave","toggleExpanded","onBlur","onMouseEnter","onMouseLeave","DropdownHeader","valueRenderer","noneSelected","allSelected","customText","getSelectedText","join","MultiSelectBox","transition","color","MultiSelect","nvalue"],"mappings":"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"}